<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<div align="center"  style="vertical-align: middle;" >
 
<f:view  xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jsp/jstl/core" encoding="UTF-8" contentType="text/html">
  
 <html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html">

	<h:head>  
                 
	<f:facet name="first"> 
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>SISTEMA DE INFORME DE GESTIÓN .::.  </title>
            </f:facet>  
      
                 
               <script type="text/javascript" src="https://www.amcharts.com/lib/3/amcharts.js"></script>
		<script type="text/javascript" src="https://www.amcharts.com/lib/3/gauge.js"></script>
		<script type="text/javascript" src="https://www.amcharts.com/lib/3/themes/dark.js"></script>
		<script type="text/javascript" src="https://www.amcharts.com/lib/3/serial.js"></script>
 
 
<script src="https://www.amcharts.com/lib/3/ammap.js"></script>
<script src="https://www.amcharts.com/lib/3/maps/js/ecuadorLow.js"></script> 
<script src="https://www.amcharts.com/lib/3/maps/js/continentsLow.js"></script>
 		 <script src="https://www.amcharts.com/lib/3/themes/none.js"></script>
 		  
<script src="https://www.amcharts.com/lib/3/pie.js"></script>
<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
<script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
 
  
  <h:outputScript library = "js" name = "mapec5.js" />
  
 		 		 <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript" ></script>
 		 	
  
   <!-- following scripts required for JavaScript version. The order is important! -->
             
        
       
       <!-- amCharts javascript code -->
		<script type="text/javascript">
		
		
		var map = AmCharts.makeChart( "chartdiv7", {
			  "type": "map",
			   "fontSize": 15,
				 "theme": "light",
				"color": "#000000",
				"projection": "mercator",
				"backgroundAlpha": 1,
				"backgroundColor": "rgba(204, 221, 255)",			  
			  "dataProvider": {
			    "map": "ecuadorLow", 
			    "areas": [ {
			        "title": "Guayas",
			        "id": "AT",
			        "color": "#67b7dc",
			        "customData": "1995",
			        "groupId": "before2004"
			      }, {
			        "title": "Cotopaxi",
			        "id": "IE",
			        "color": "#67b7dc",
			        "customData": "1973",
			        "groupId": "before2004"
			      }, {
			        "title": "Tungurahua",
			        "id": "DK",
			        "color": "#67b7dc",
			        "customData": "1973",
			        "groupId": "before2004"
			      }, {
			        "title": "Pichincha",
			        "id": "FI",
			        "color": "#67b7dc",
			        "customData": "1995",
			        "groupId": "before2004"
			      }, {
			        "title": "Loja",
			        "id": "SE",
			        "color": "#67b7dc",
			        "customData": "1995",
			        "groupId": "before2004"
			      }, {
			        "title": "Imbabura",
			        "id": "GB",
			        "color": "#67b7dc",
			        "customData": "1973",
			        "groupId": "before2004"
			      },
			      {
			        "title": "Pastaza",
			        "id": "HR",
			        "color": "#db8383",
			        "customData": "2013",
			        "groupId": "2013"
			      }
			    ]
			  },
				"areasSettings": {
					"color": "rgba(225,168,39,1)",
					"outlineColor": "rgba(20,108,147,1)",
					"rollOverOutlineColor": "rgba(20,108,147,1)",
					"rollOverBrightness": 20,
					"selectedBrightness": 20,
					"selectable": true,
					"unlistedAreasAlpha": 0,
					"unlistedAreasOutlineAlpha": 0
				},
				"zoomControl": {
					"zoomControlEnabled": true,
					"homeButtonEnabled": false,
					"panControlEnabled": false,
					"right": 38,
					"bottom": 30,
					"minZoomLevel": 0.25,
					"gridHeight": 100,
					"gridAlpha": 0.1,
					"gridBackgroundAlpha": 0,
					"gridColor": "#FFFFFF",
					"draggerAlpha": 1,
					"buttonCornerRadius": 2
				},

			  "legend": {
			    "width": "100%",
			    "marginRight": 27,
			    "marginLeft": 27,
			    "equalWidths": false,
			    "backgroundAlpha": 0.5,
			    "backgroundColor": "#FFFFFF",
			    "borderColor": "#ffffff",
			    "borderAlpha": 1,
			    "top": 450,
			    "left": 0,
			    "horizontalGap": 10,
			    "data": [ {
			      "title": "EU member before 2004",
			      "color": "#67b7dc"
			    }, {
			      "title": "Joined at 2004",
			      "color": "#ebdb8b"
			    }, {
			      "title": "Joined at 2007",
			      "color": "#83c2ba"
			    }, {
			      "title": "Joined at 2013",
			      "color": "#db8383"
			    } ]
			  },
			  "export": {
			    "enabled": true
			  }

			} );
		
		 
		
		
		AmCharts.makeChart("chartdivGauge",
				{
			"type": "gauge",
			"faceBorderWidth": 1,
			"marginBottom": 2,
			"marginTop": 2,
			"startDuration": 8,
			"fontSize": 9,
			"theme": "light",
			"arrows": [
				{
					"borderAlpha": 0.35,
					"color": "#000000",
					"id": "GaugeArrow-1",
					"innerRadius": "0%",
					"nailAlpha": 0.87,
					"nailBorderAlpha": 0.46,
					"nailBorderThickness": 0,
					"nailRadius": 10,
					"startWidth": 12,
					"value": #{RolesView.gauge1fin}
				},
				{
					"borderAlpha": 0.35,
					"color": "#c42626",
					"id": "GaugeArrow-2",
					"innerRadius": "0%",
					"nailAlpha": 0.87,
					"nailBorderAlpha": 0.46,
					"nailBorderThickness": 0,
					"nailRadius": 10,
					"startWidth": 12,
					"value": #{RolesView.gauge2fin}
				},
				{
					"borderAlpha": 0.35,
					"id": "GaugeArrow-3",
					"color": "#008000",
					"innerRadius": "0%",
					"nailAlpha": 0.87,
					"nailBorderAlpha": 0.46,
					"nailBorderThickness": 0,
					"nailRadius": 10,
					"startWidth": 12,
					"value": #{RolesView.gauge3fin}
				}
			],
			"axes": [
				{
					"axisThickness": 1,
					"bottomText": "%",
					"bottomTextYOffset": -20,
					"endValue": 220,
					"id": "GaugeAxis-1",
					"valueInterval": 10,
					"bands": [
						{
							"alpha": 0.7,
							"color": "#ea3838",
							"endValue": 90,
							"id": "GaugeBand-1",
							"startValue": 0
						},
						{
							"alpha": 0.7,
							"color": "#ffac29",
							"endValue": 130,
							"id": "GaugeBand-2",
							"startValue": 90
						},
						{
							"alpha": 0.7,
							"color": "#008000",
							"endValue": 220,
							"id": "GaugeBand-3",
							"innerRadius": "95%",
							"startValue": 130
						}
					]
				}
			],
			"allLabels": [],
			"balloon": {},
			"titles": []
		}	
			);
		
				
	AmCharts.makeChart("chartdiv4", {
			    "type": "pie",
			    "theme": "light",			
			    "dataProvider": [{
			        "country": "Camisetas",
			        "litres": #{RolesView.pieSucursa1.getAbril()}
			    }, {
			        "country": "Maquinaria",
			        "litres": #{RolesView.pieSucursa1.getEnero()}
			    }, {
			        "country": "Invitaciones",
			        "litres": #{RolesView.pieSucursa1.getFebrero()}
			    }, {
			        "country": "Cursos",
			        "litres": #{RolesView.pieSucursa1.getMarzo()}
			    }],
			    "balloonText": "[[value]]",
			    "titles": [
					{
						"id": "Title-1",
						"size": 14,
						"color": "#000000",
						"text": "Sucursal 1"
					}],
			    "outlineAlpha": 0.4,
				  "depth3D": 15,	  
				  "angle": 30,
			    "valueField": "litres",
			    "titleField": "country",
			    "colors": [
					"#754DEB",
					"#021029",
					"#0D52D1"],
			    "balloon": {
			        "drop": true,
			        "adjustBorderColor": false,
			        "color": "#FFFFFF",
			        "fontSize": 10
			    },
			    "export": {
			        "enabled": true
			    }
			});
	
	
	 
	  
	  
	
	AmCharts.makeChart("pieSucursal2", {
	    "type": "pie",
	    "theme": "light",
	    "dataProvider": [{
	        "country": "Maquinaria",
	        "litres": #{RolesView.pieSucursa2.getEnero()}
	    }, {
	        "country": "Invitaciones",
	        "litres": #{RolesView.pieSucursa2.getFebrero()}
	    }, {
	        "country": "Cursos",
	        "litres": #{RolesView.pieSucursa2.getMarzo()}
	    }],
	    "balloonText": "[[value]]",
	    "titles": [
			{
				"id": "Title-1",
				"size": 14,
				"color": "#c42626",
				"text": "Sucursal 2"
			}],
			"outlineAlpha": 0.4,
			  "depth3D": 15,	  
			  "angle": 30,
	    "valueField": "litres",
	    "colors": [
			"#754DEB",
			"#021029",
			"#0D52D1"],
	    "titleField": "country",
	    "balloon": {
	        "drop": true,
	        "adjustBorderColor": false,
	        "color": "#FFFFFF",
	        "fontSize": 10
	    },
	    "export": {
	        "enabled": true
	    }
	});
	
	
	

	AmCharts.makeChart("pieSucursal3", {
	    "type": "pie",
	    "theme": "light",
	    "dataProvider": [{
	        "country": "Maquinaria",
	        "litres": #{RolesView.pieSucursa3.getEnero()}
	    },{
	        "country": "Camisetas",
	        "litres": #{RolesView.pieSucursa3.getAbril()}
	    }, {
	        "country": "Cursos",
	        "litres": #{RolesView.pieSucursa3.getMarzo()}
	    }],
	    "balloonText": "[[value]]",
	    "valueField": "litres",
	    "titleField": "country",
	    "outlineAlpha": 0.4,
		  "depth3D": 15,	  
		  "angle": 30,
		  "colors": [
				"#754DEB",
				"#021029",
				"#0D52D1"],
	    "titles": [
			{
				"id": "Title-1",
				"size": 14,
				"color": "#008000",
				"text": "Sucursal 3"
			}],
	    "balloon": {
	        "drop": true,
	        "adjustBorderColor": false,
	        "color": "#FFFFFF",
	        "fontSize": 10
	    },
	    "export": {
	        "enabled": true
	    }
	});
	
	 
	AmCharts.makeChart("mapEcuador",{
		"type": "map",
		"pathToImages": "http://www.amcharts.com/lib/3/images/",
		"addClassNames": true,
		"fontSize": 15,
		 "theme": "light",
		"color": "#000000",
		"projection": "mercator",
		"backgroundAlpha": 1,
		"backgroundColor": "rgba(204, 221, 255)",
		"dataProvider": {
			"map": "ecuadorLow",
			"getAreasFromMap": true,
			"images": [
				{
					"top": 40,
					"left": 60,
					"width": 80,
					"height": 40,
					"pixelMapperLogo": true,
					"imageURL": "http://pixelmap.amcharts.com/static/img/logo-black.svg",
					"url": "http://www.amcharts.com"
				}
			]
		},
		"balloon": {
			"horizontalPadding": 15,
			"borderAlpha": 0,
			"borderThickness": 1,
			"verticalPadding": 15
		},
		"areasSettings": {
			"color": "rgba(225,168,39,1)",
			"outlineColor": "rgba(20,108,147,1)",
			"rollOverOutlineColor": "rgba(20,108,147,1)",
			"rollOverBrightness": 20,
			"selectedBrightness": 20,
			"selectable": true,
			"unlistedAreasAlpha": 0,
			"unlistedAreasOutlineAlpha": 0
		},
		"imagesSettings": {
			"alpha": 1,
			"color": "rgba(225,168,39,1)",
			"outlineAlpha": 0,
			"rollOverOutlineAlpha": 0,
			"outlineColor": "rgba(20,108,147,1)",
			"rollOverBrightness": 20,
			"selectedBrightness": 20,
			"selectable": true
		},
		"linesSettings": {
			"color": "rgba(225,168,39,1)",
			"selectable": true,
			"rollOverBrightness": 20,
			"selectedBrightness": 20
		},
		"zoomControl": {
			"zoomControlEnabled": true,
			"homeButtonEnabled": false,
			"panControlEnabled": false,
			"right": 38,
			"bottom": 30,
			"minZoomLevel": 0.25,
			"gridHeight": 100,
			"gridAlpha": 0.1,
			"gridBackgroundAlpha": 0,
			"gridColor": "#FFFFFF",
			"draggerAlpha": 1,
			"buttonCornerRadius": 2
		}
	});
  

	
	var charVtasMensV= AmCharts.makeChart("chartVtasMens",
			{
				"type": "serial",
				"categoryField": "date",
				"dataDateFormat": "YYYY-MM-DD HH",
				"categoryAxis": {
					"minPeriod": "MM",
					"parseDates": true
				},
				"chartCursor": {
					"enabled": true,
					"categoryBalloonDateFormat": "JJ:NN"
				},
				"chartScrollbar": {
					"enabled": true
				},
				"trendLines": [],
				"graphs": [
					{
						"bullet": "round",
						"id": "AmGraph-1",
						"title": "Sucursal 1",
						"lineColor": "#000000",
						"lineThickness": 4,	
						"valueField": "column-1"
					},
					{
						"bullet": "square",
						"id": "AmGraph-2",
						"title": "Sucursal 2",
						"lineColor": "#c42626",
						"lineThickness": 4,	
						"valueField": "column-2",
						"enabled": true
					},
					{
						"bullet": "square",
						"id": "AmGraph-3",
						"title": "Sucursal 3",
						"lineColor": "#008000",
						"lineThickness": 4,	
						"valueField": "column-3"
					}
				],
				"guides": [],
				"valueAxes": [
					{
						"id": "ValueAxis-1",
						"title": "Axis title"
					}
				],
				"allLabels": [],
				"balloon": {},
				"legend": {
					"enabled": true,
					"useGraphSettings": true
				},
				"dataProvider":  #{RolesView.strdatosRoles}
			}
		);	

charVtasMensV.addListener("rendered", zoomChart);
	zoomChart();
	
	

	// this method is called when chart is first inited as we listen for "rendered" event
	function zoomChart() {
	    // different zoom methods can be used - zoomToIndexes, zoomToDates, zoomToCategoryValues
	    charVtasMensV.zoomToIndexes(chartData.length - 40, chartData.length - 1);
	}
	// generate some random data, quite different range
	 
	  
		  
		
		</script>
       
        
 
        
 	<style type="text/css">	 
 
 	#chartdiv {
  width: 100%;
  height: 500px;
}

.map-marker {
    /* adjusting for the marker dimensions
    so that it is centered on coordinates */
    margin-left: -8px;
    margin-top: -8px;
}
.map-marker.map-clickable {
    cursor: pointer;
}
.pulse {
    width: 10px;
    height: 10px; 
    border: 5px solid #f7f14c;
    -webkit-border-radius: 30px;
    -moz-border-radius: 30px;
    border-radius: 30px;
    background-color: #000000;
    z-index: 10;
    position: absolute;
  }
.map-marker .dot {
    border: 10px solid #fff601;
    background: transparent;
    -webkit-border-radius: 60px;
    -moz-border-radius: 60px;
    border-radius: 60px;
    height: 50px;
    width: 50px;
    -webkit-animation: pulse 3s ease-out;
    -moz-animation: pulse 3s ease-out;
    animation: pulse 3s ease-out;
    -webkit-animation-iteration-count: infinite;
    -moz-animation-iteration-count: infinite;
    animation-iteration-count: infinite;
    position: absolute;
    top: -20px;
    left: -20px;
    z-index: 1;
    opacity: 0;
  }
  @-moz-keyframes pulse {
   0% {
      -moz-transform: scale(0);
      opacity: 0.0;
   }
   25% {
      -moz-transform: scale(0);
      opacity: 0.1;
   }
   50% {
      -moz-transform: scale(0.1);
      opacity: 0.3;
   }
   75% {
      -moz-transform: scale(0.5);
      opacity: 0.5;
   }
   100% {
      -moz-transform: scale(1);
      opacity: 0.0;
   }
  }
  @-webkit-keyframes "pulse" {
   0% {
      -webkit-transform: scale(0);
      opacity: 0.0;
   }
   25% {
      -webkit-transform: scale(0);
      opacity: 0.1;
   }
   50% {
      -webkit-transform: scale(0.1);
      opacity: 0.3;
   }
   75% {
      -webkit-transform: scale(0.5);
      opacity: 0.5;
   }
   100% {
      -webkit-transform: scale(1);
      opacity: 0.0;
   }
  }
  
 .ui-panel-titlebar {
	font-size: 8pt;
	font-weight: bold;
	color: white; 
	text-align: center;
	line-height: 10pt;	
	height: 10px;
}

.myPanelStyle1.ui-panel .ui-panel-titlebar {
background:#ccddff;

} 

.myPanelStyleTitle.ui-panel .ui-panel-titlebar .ui-panel-title {
background:#d9b3ff;
background-color: #d9b3ff;
color:white;
font-weight:bold;
font-family: verdana;
}

</style>	 
 		   
	
 	 </h:head>  
 	 
 	 

 <h:form id="formdash" > 
 	 
 		
    
    <p:layoutUnit position="north">
         <h:panelGrid columns="3" cellpadding="0">            
                <p:graphicImage name="../images/banner_solo.jpeg" height="40"/> 
                <p:commandButton value="Inicio" action="#{loginBean.inicioSistema()}" id="inicio" icon="ui-icon-disk" /> 
          	    <p:commandButton value="Salir del sistema" action="#{loginBean.salirSistema()}" id="salirsis" icon="ui-icon-disk" />
            </h:panelGrid>
    </p:layoutUnit> 
   
   <p:growl id="msgs" showDetail="true" />
 
        <p:dashboard id="board" model="#{dashboardView.model}" >
            <p:ajax event="reorder" listener="#{dashboardView.handleReorder}" update="msgs" />
 
            <p:panel id="vtasmensuales" header="VENTAS MENSUALES"  style="width:650px;height:270px;">
                <!-- HTML -->
				       
     				<div id="chartVtasMens" style="width: 100%; height: 260px; background-color: #ccddff;" ></div>
            </p:panel> 
           
            
            <p:panel id="rotacion" header="LOCALIZACIÓN DE VENTAS" style="width:650px;height:300px;">
               
 <div id="chartdivmapa2" style="width: 100%; height: 260px;background-color: #ccddff;" ></div>
 
            </p:panel>
            
            
            
            
            	
            <p:panel id="vtasproducto" header="VENTAS DE PRODUCTOS MENSUALES" style="width:650px;height:270px;" >
            	 	
                <h:panelGrid columns="3" style="width: 600px;background-color: #ccddff;margin-bottom:0px;align:left" cellpadding="0">
        <h:outputText value="Mes/Año" />
        <p:selectOneMenu value="#{RolesView.mesEscogido}"  >
            <f:selectItem itemLabel="Jan" itemValue="Jan" />
            <f:selectItem itemLabel="Feb" itemValue="Feb" />
            <f:selectItem itemLabel="Mar" itemValue="Mar" />
            <f:selectItem itemLabel="Abr" itemValue="Abr" />
            <f:selectItem itemLabel="May" itemValue="May" />
            <f:selectItem itemLabel="Jun" itemValue="Jun" />
            <f:selectItem itemLabel="Jul" itemValue="Jul" />
            <f:selectItem itemLabel="Agst" itemValue="Agst" />
            <f:selectItem itemLabel="Sep" itemValue="Sep" />
            <f:selectItem itemLabel="Oct" itemValue="Oct" />
            <f:selectItem itemLabel="Nov" itemValue="Nov" />
            <f:selectItem itemLabel="Dic" itemValue="Dic" />
            
             <p:ajax event="change" listener="#{RolesView.onCountryChange}" update="johanna"  />
        </p:selectOneMenu>   
       <p:graphicImage name="../images/sucursales2-lanczos3.jpg" width="400" height="40"/>   
    </h:panelGrid>
  
  				 
             <h:panelGrid id="johanna" columns="1" style="margin-bottom:0px" cellpadding="0">
                <div id="chartdivGauge" style="width: 600px; height: 210px;background-color: #ccddff;" ></div>
                
                
                </h:panelGrid>
                
            </p:panel>
  
            <p:panel id="vtasmaq" header="VENTAS DE MAQUINARIAS" style="width:650px;height:300px;">
       			       
    			 
<p:carousel responsive="true" numVisible="1" circular="true" >
        <p:tab title="Curso 1">
              
           					 <div id="chartdiv4" style="width: 600px; height: 200px;background-color: #ccddff;" ></div> 
        </p:tab>
        <p:tab title="Curso 2">
            
                <div id="pieSucursal2" style="width: 600px; height: 200px;background-color: #ccddff;" ></div>
            
        </p:tab>
      	<p:tab title="Curso 3">
            
                  <div id="pieSucursal3" style="width: 600px; height: 200px;background-color: #ccddff;" ></div>
                
            
        </p:tab>
        
    </p:carousel>
    			  
    			 
    			 
            </p:panel>
 
            
            
            
            
        </p:dashboard>     
                  
                 
    <p:layoutUnit position="south" size="90">
         
<p:panelGrid columns="1" layout="grid">            
    <h:outputText value="@Grupo 3 - Tecnologías Web." />
   
</p:panelGrid>

 

    </p:layoutUnit>
     
   
</h:form>
 
 </html>

</f:view> 
</div>
